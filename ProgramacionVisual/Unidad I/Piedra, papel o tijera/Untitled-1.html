<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piedra Papel Tijera Rata Spock</title>
</head>
        <!--
        - Se le da color a las letras
        - se le da un fondo facherito
        -->
<body style="background-image: url(img/p.jpg); background-size: cover; background-repeat: no-repeat;">    
    <div style="text-align: center; color: gold;">
        <h1>Piedra, Papel, Tijera, Rata, Spock</h1>
        <h2>4322IS</h2>    
        <!--se centran los botones-->
        <select id="eleccion" style="text-align: center; width: 200px; height: 30px; margin-top: 2%;">
            <option value="0">Piedra</option>
            <option value="1">Papel</option>
            <option value="2">Tijera</option>
            <option value="3">Rata</option>
            <option value="4">Spock</option>
        </select>
        <br>          
        <img id="img" src="img/Fondo.png" style="margin-top: 5%; width: 30%; height: 30%;">
    </div>
</body>
<script>    


    var eleccion = document.getElementById("eleccion");

    eleccion.addEventListener("change", function(){
        var eleccion = document.getElementById("eleccion");
        var eleccion = eleccion.value;
        var img = document.getElementById("img");
        cambiarImagenAleatoria(eleccion);                           
    });
//se utiliza un if else para verificar al ganador
    function verificarGanador (eleccion, numero){

        if(eleccion == numero){
            alert("Empate");
        }else if(eleccion == 0 && numero == 1){
            alert("Perdiste");
        }else if(eleccion == 0 && numero == 4){
            alert("Perdiste")
        }else if(eleccion == 0 && numero == 2){
            alert("Ganaste");
        }else if(eleccion == 0 && numero == 3){
            alert("Ganaste");
        }else if(eleccion == 1 && numero == 0){
            alert("Ganaste");
        }else if(eleccion == 1 && numero == 4){
            alert("Ganaste");
        }else if(eleccion == 1 && numero == 2){
            alert("Perdiste");
        }else if(eleccion == 1 && numero == 3){
            alert("Perdiste");
        }else if(eleccion == 2 && numero == 0){
            alert("Perdiste");
        }else if(eleccion == 2 && numero == 4){
            alert("Perdiste");
        }else if(eleccion == 2 && numero == 1){
            alert("Ganaste");
        }else if(eleccion == 2 && numero == 3){
            alert("Ganaste");
        }else if(eleccion == 3 && numero == 0 ){
            alert("Perdiste");
        }else if(eleccion == 3 && numero == 2){
            alert("Perdiste");
        }else if(eleccion == 3 && numero == 1){
            alert("Ganaste");
        }else if(eleccion == 3 && numero == 4){
            alert("Ganaste");
        }else if(eleccion == 4 && numero == 1){
            alert("Perdiste");
        }else if(eleccion == 4 && numero == 3){
            alert("Perdiste");
        }else if(eleccion == 4 && numero == 0){
            alert("Ganaste");
        }else if(eleccion == 4 && numero == 2){
            alert("Ganaste");
        }
    }

    function resetear (){
        var eleccion = document.getElementById("eleccion");
        var eleccion = eleccion.value;
        var img = document.getElementById("img");
        img.src = "img/Fondo.png";
    }

    function cambiarImagen(numero){    

        switch(numero){
            case 0:
                img.src = "img/piedra.png";
                break;
            case 1:
                img.src = "img/papel.png";
                break;
            case 2:
                img.src = "img/tijeras.png";
                break;
            case 3:
                img.src = "img/rata.png"
                break;
            case 4:
                img.src = "img/spock.jpg"
                break;
        }
    }

    function cambiarImagenAleatoria(eleccion){      
        let contador = 0;  
        // Cambiar imagen cada 3 segundos        
        var intervalo = setInterval(function(){
            // romper intervalo            
            var numero = Math.floor(Math.random() * 5);
            cambiarImagen(numero);
            contador++;
            if(contador == 50){                             
                // esperar 2 segundos
                setTimeout(function(){
                    verificarGanador(eleccion, numero);
                    resetear();
                }, 100); 
                clearInterval(intervalo);                
            }
        }, 70);                
    }
</script> 
</html>